---
import Layout from '../layouts/Layout.astro';
import { MagnifyingGlassIcon, HeartIcon, ChatBubbleLeftIcon } from '@heroicons/react/24/outline';

const mockPetMemories = [
  {
    id: 1,
    petName: 'Max',
    petType: 'Dog',
    breed: 'Golden Retriever',
    ownerName: 'Sarah',
    birthDate: '2015',
    deathDate: '2024',
    image: 'https://images.unsplash.com/photo-1552053831-71594a27632d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
    description: 'Forever in our hearts, the goodest boy who loved tennis balls.',
    likes: 124,
    comments: 45,
  },
  {
    id: 2,
    petName: 'Luna',
    petType: 'Cat',
    breed: 'Siamese',
    ownerName: 'Michael',
    birthDate: '2018',
    deathDate: '2024',
    image: 'https://images.unsplash.com/photo-1513360371669-4adf3dd7dff8?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
    description: 'My little princess who ruled the house with grace.',
    likes: 89,
    comments: 32,
  },
  {
    id: 3,
    petName: 'Charlie',
    petType: 'Bird',
    breed: 'Macaw',
    ownerName: 'Emily',
    birthDate: '2019',
    deathDate: '2024',
    image: 'https://images.unsplash.com/photo-1552728089-57bdde30beb3?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
    description: 'The most colorful soul who brightened every day.',
    likes: 67,
    comments: 28,
  }
];
---

<Layout title="Community">
  <div class="max-w-7xl mx-auto px-4 py-12">
    {/* Title Sections */}
    <div class="text-center mb-16">
      <h1 class="text-4xl font-bold text-gray-900 mb-2">Furever Community</h1>
    </div>

    {/* Welcome Message Section */}
    <div class="max-w-4xl mx-auto relative px-4 mb-16">
      {/* Decorative Elements */}
      <div class="absolute -left-8 -top-6">
        <svg class="w-12 h-12 text-gray-100" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12,8L10.67,8.09C9.81,7.07 7.4,4.5 5,4.5C5,4.5 3.03,7.46 4.96,11.41C4.41,12.24 4.07,12.67 4,13.66L2.07,13.95L2.28,14.93L4.04,14.67L4.18,15.38L2.61,16.32L3.08,17.21L4.53,16.32C5.68,18.76 8.59,20 12,20C15.41,20 18.32,18.76 19.47,16.32L20.92,17.21L21.39,16.32L19.82,15.38L19.96,14.67L21.72,14.93L21.93,13.95L20,13.66C19.93,12.67 19.59,12.24 19.04,11.41C20.97,7.46 19,4.5 19,4.5C16.6,4.5 14.19,7.07 13.33,8.09L12,8Z"/>
        </svg>
      </div>

      <div class="absolute -right-6 -top-4">
        <svg class="w-10 h-10 text-gray-100 transform rotate-45" viewBox="0 0 24 24" fill="currentColor">
          <path d="M4.5,8C5.88,8 7,6.88 7,5.5C7,4.12 5.88,3 4.5,3C3.12,3 2,4.12 2,5.5C2,6.88 3.12,8 4.5,8M9,8C10.38,8 11.5,6.88 11.5,5.5C11.5,4.12 10.38,3 9,3C7.62,3 6.5,4.12 6.5,5.5C6.5,6.88 7.62,8 9,8M15,8C16.38,8 17.5,6.88 17.5,5.5C17.5,4.12 16.38,3 15,3C13.62,3 12.5,4.12 12.5,5.5C12.5,6.88 13.62,8 15,8M19.5,8C20.88,8 22,6.88 22,5.5C22,4.12 20.88,3 19.5,3C18.12,3 17,4.12 17,5.5C17,6.88 18.12,8 19.5,8M4.5,12C5.88,12 7,10.88 7,9.5C7,8.12 5.88,7 4.5,7C3.12,7 2,8.12 2,9.5C2,10.88 3.12,12 4.5,12M9,12C10.38,12 11.5,10.88 11.5,9.5C11.5,8.12 10.38,7 9,7C7.62,7 6.5,8.12 6.5,9.5C6.5,10.88 7.62,12 9,12M15,12C16.38,12 17.5,10.88 17.5,9.5C17.5,8.12 16.38,7 15,7C13.62,7 12.5,8.12 12.5,9.5C12.5,10.88 13.62,12 15,12M19.5,12C20.88,12 22,10.88 22,9.5C22,8.12 20.88,7 19.5,7C18.12,7 17,8.12 17,9.5C17,10.88 18.12,12 19.5,12M4.5,16C5.88,16 7,14.88 7,13.5C7,12.12 5.88,11 4.5,11C3.12,11 2,12.12 2,13.5C2,14.88 3.12,16 4.5,16M9,16C10.38,16 11.5,14.88 11.5,13.5C11.5,12.12 10.38,11 9,11C7.62,11 6.5,12.12 6.5,13.5C6.5,14.88 7.62,16 9,16M15,16C16.38,16 17.5,14.88 17.5,13.5C17.5,12.12 16.38,11 15,11C13.62,11 12.5,12.12 12.5,13.5C12.5,14.88 13.62,16 15,16M19.5,16C20.88,16 22,14.88 22,13.5C22,12.12 20.88,11 19.5,11C18.12,11 17,12.12 17,13.5C17,14.88 18.12,16 19.5,16"/>
        </svg>
      </div>

      <div class="absolute -left-4 bottom-0">
        <svg class="w-8 h-8 text-gray-100 transform -rotate-12" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12,3C10.73,3 9.6,3.8 9.18,5H3V7H4.95L2,14C1.53,16 3,17 5.5,17C8,17 9.56,16 9,14L6.05,7H9.17C9.5,7.85 10.15,8.5 11,8.83V20H2V22H22V20H13V8.82C13.85,8.5 14.5,7.85 14.82,7H17.95L15,14C14.53,16 16,17 18.5,17C21,17 22.56,16 22,14L19.05,7H21V5H14.83C14.4,3.8 13.27,3 12,3M12,5A1,1 0 0,1 13,6A1,1 0 0,1 12,7A1,1 0 0,1 11,6A1,1 0 0,1 12,5M5.5,10.25L7,14H4L5.5,10.25M18.5,10.25L20,14H17L18.5,10.25Z"/>
        </svg>
      </div>

      <div class="absolute -right-8 bottom-4">
        <svg class="w-10 h-10 text-gray-100" viewBox="0 0 24 24" fill="currentColor">
          <path d="M8.35,3C9.53,2.83 10.78,4.12 11.14,5.9C11.5,7.67 10.85,9.25 9.67,9.43C8.5,9.61 7.24,8.32 6.87,6.54C6.5,4.77 7.17,3.19 8.35,3M15.5,3C16.69,3.19 17.35,4.77 17,6.54C16.62,8.32 15.37,9.61 14.19,9.43C13,9.25 12.35,7.67 12.72,5.9C13.08,4.12 14.33,2.83 15.5,3M3,7.6C4.14,7.11 5.69,8 6.5,9.55C7.26,11.13 7,12.79 5.87,13.28C4.74,13.77 3.2,12.89 2.41,11.32C1.62,9.75 1.9,8.08 3,7.6M21,7.6C22.1,8.08 22.38,9.75 21.59,11.32C20.8,12.89 19.26,13.77 18.13,13.28C17,12.79 16.74,11.13 17.5,9.55C18.31,8 19.86,7.11 21,7.6M19.33,18.38C19.37,19.32 18.65,20.36 17.79,20.75C16,21.57 13.88,19.87 11.89,19.87C9.9,19.87 7.76,21.64 6,20.75C5,20.26 4.31,18.96 4.44,17.88C4.62,16.39 6.41,15.59 7.47,14.5C8.88,13.09 9.88,10.44 11.89,10.44C13.89,10.44 14.95,13.05 16.3,14.5C17.41,15.72 19.26,16.75 19.33,18.38Z"/>
        </svg>
      </div>

      {/* Message Content */}
      <div class="rounded-2xl p-8 relative z-10">
        <p class="text-gray-600 text-center text-xl leading-relaxed">
          A safe space for healing, understanding, and remembrance. Your memorial can be kept private, 
          shared with close friends and family, or opened to our caring community when you feel ready.
        </p>
      </div>
    </div>

    {/* Search Section */}
    <div class="max-w-2xl mx-auto px-4 mb-16">
      <div class="relative group">
        {/* Search Container */}
        <div class="relative bg-white rounded-full shadow-md hover:shadow-lg transition-shadow duration-300">
          <div class="flex items-center px-6 py-3">
            {/* Search Icon */}
            <svg 
              class="w-5 h-5 text-rose-400" 
              xmlns="http://www.w3.org/2000/svg" 
              fill="none" 
              viewBox="0 0 24 24" 
              stroke="currentColor"
            >
              <path 
                stroke-linecap="round" 
                stroke-linejoin="round" 
                stroke-width="2" 
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              />
            </svg>
            
            {/* Search Input */}
            <input 
              type="search"
              placeholder="Search memorials..."
              class="w-full ml-3 text-gray-600 placeholder-gray-400 bg-transparent border-none focus:outline-none focus:ring-0"
            />
            
            {/* Filter Button - Only show on desktop */}
            <button class="hidden sm:flex items-center gap-2 px-4 py-1.5 ml-2 text-sm text-rose-500 hover:text-rose-600 border border-rose-200 rounded-full transition-colors duration-300">
              <svg 
                class="w-4 h-4" 
                fill="none" 
                viewBox="0 0 24 24" 
                stroke="currentColor"
              >
                <path 
                  stroke-linecap="round" 
                  stroke-linejoin="round" 
                  stroke-width="2" 
                  d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
                />
              </svg>
              <span>Filters</span>
            </button>
          </div>
        </div>

        {/* Mobile Filter Button - Only show on mobile */}
        <button class="sm:hidden absolute right-2 top-1/2 -translate-y-1/2 p-2 text-rose-500 hover:text-rose-600">
          <svg 
            class="w-5 h-5" 
            fill="none" 
            viewBox="0 0 24 24" 
            stroke="currentColor"
          >
            <path 
              stroke-linecap="round" 
              stroke-linejoin="round" 
              stroke-width="2" 
              d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
            />
          </svg>
        </button>

        {/* Search suggestions - Optional */}
        <div class="hidden group-focus-within:block absolute left-0 right-0 mt-2 bg-white rounded-2xl shadow-lg border border-gray-100 py-2 z-10">
          <div class="px-4 py-2 text-xs text-gray-500 uppercase">Popular Searches</div>
          <button class="w-full px-4 py-2 text-left text-gray-600 hover:bg-rose-50/50 transition-colors">
            Dogs
          </button>
          <button class="w-full px-4 py-2 text-left text-gray-600 hover:bg-rose-50/50 transition-colors">
            Cats
          </button>
          <button class="w-full px-4 py-2 text-left text-gray-600 hover:bg-rose-50/50 transition-colors">
            Recent Memorials
          </button>
        </div>
      </div>
    </div>

    {/* Pet Memory Cards */}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
      {mockPetMemories.map(memory => (
        <div class="bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-md transition-all duration-300 flex flex-col">
          {/* Image Container */}
          <div class="relative h-48 overflow-hidden">
            <img 
              src={memory.image} 
              alt={memory.petName} 
              class="w-full h-full object-cover transition-transform duration-300 hover:scale-105"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"></div>
          </div>

          {/* Content Container */}
          <div class="p-6 flex flex-col flex-grow">
            {/* Pet Info with Dates */}
            <div class="mb-4">
              <h3 class="text-xl font-semibold text-gray-900 mb-1">{memory.petName}</h3>
              <div class="flex items-center gap-2 mb-2">
                <p class="text-sm text-gray-500">{memory.petType} • {memory.breed}</p>
              </div>
              {/* Birth and Death Dates */}
              <div class="flex items-center gap-2 text-sm text-gray-400">
                <span>{memory.birthDate || '2020'}</span>
                <span class="text-gray-300">—</span>
                <span>{memory.deathDate || '2024'}</span>
              </div>
            </div>

            {/* Description */}
            <p class="text-gray-600 mb-4 flex-grow">{memory.description}</p>

            {/* Interaction and Owner Info */}
            <div class="flex items-center justify-between mt-auto pt-4 border-t border-gray-100">
              {/* Likes and Comments */}
              <div class="flex items-center gap-4">
                <button class="flex items-center gap-1 text-gray-500 hover:text-rose-500 transition-colors">
                  <HeartIcon class="w-5 h-5" />
                  <span class="text-sm">{memory.likes}</span>
                </button>
                <button class="flex items-center gap-1 text-gray-500 hover:text-rose-500 transition-colors">
                  <ChatBubbleLeftIcon class="w-5 h-5" />
                  <span class="text-sm">{memory.comments}</span>
                </button>
              </div>

              {/* Owner Info - Without Date */}
              <div class="text-right">
                <p class="text-sm font-medium text-gray-900">By {memory.ownerName}</p>
              </div>
            </div>
          </div>
        </div>
      ))}
    </div>

    {/* Support Groups and Resources Section */}
    <div class="max-w-7xl mx-auto px-4 mb-16">
      {/* Support & Resources Title */}
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900 mb-2">Support & Resources</h2>
      </div>

      {/* Cards Grid */}
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {/* Support Groups */}
        <div class="bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-md transition-all duration-300">
          <div class="relative h-40 bg-gray-50">
            <div class="absolute inset-0 flex items-center justify-center">
              <svg class="w-16 h-16 text-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" 
                  d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
                />
              </svg>
            </div>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-semibold text-gray-900 mb-2">Pet Loss Support Groups</h3>
            <p class="text-gray-600">Connect with others who understand your journey of loss and remembrance.</p>
            <div class="mt-4 flex justify-end">
              <span class="text-sm text-red-500">Coming Soon</span>
            </div>
          </div>
        </div>

        {/* Professional Resources */}
        <div class="bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-md transition-all duration-300">
          <div class="relative h-40 bg-gray-50">
            <div class="absolute inset-0 flex items-center justify-center">
              <svg class="w-16 h-16 text-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" 
                  d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
                />
              </svg>
            </div>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-semibold text-gray-900 mb-2">Professional Resources</h3>
            <p class="text-gray-600">Access helpful articles and guidance from pet loss professionals.</p>
            <div class="mt-4 flex justify-end">
              <span class="text-sm text-red-500">Coming Soon</span>
            </div>
          </div>
        </div>

        {/* Local Services */}
        <div class="bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-md transition-all duration-300">
          <div class="relative h-40 bg-gray-50">
            <div class="absolute inset-0 flex items-center justify-center">
              <svg class="w-16 h-16 text-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" 
                  d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" 
                  d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
                />
              </svg>
            </div>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-semibold text-gray-900 mb-2">Local Services</h3>
            <p class="text-gray-600">Find pet loss support services and memorials in your area.</p>
            <div class="mt-4 flex justify-end">
              <span class="text-sm text-red-500">Coming Soon</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
  .stroke-1 {
    animation: float1 4s ease-in-out infinite;
  }
  
  .stroke-2 {
    animation: float2 4s ease-in-out infinite;
    animation-delay: -2s;
  }

  .stroke-3 {
    animation: float3 4s ease-in-out infinite;
  }
  
  .stroke-4 {
    animation: float4 4s ease-in-out infinite;
    animation-delay: -2s;
  }

  @keyframes float1 {
    0%, 100% { transform: translateY(0) scaleX(1.02); }
    50% { transform: translateY(-2px) scaleX(0.98); }
  }

  @keyframes float2 {
    0%, 100% { transform: translateY(0) scaleX(0.98); }
    50% { transform: translateY(2px) scaleX(1.02); }
  }

  @keyframes float3 {
    0%, 100% { transform: translateY(0) rotate(0.5deg); }
    50% { transform: translateY(-1px) rotate(-0.5deg); }
  }

  @keyframes float4 {
    0%, 100% { transform: translateY(0) rotate(-0.5deg); }
    50% { transform: translateY(1px) rotate(0.5deg); }
  }

  .group:hover {
    transform: translateY(-2px);
    transition: transform 0.3s ease;
  }

  /* Hide browser's default search input styling */
  input[type="search"]::-webkit-search-decoration,
  input[type="search"]::-webkit-search-cancel-button,
  input[type="search"]::-webkit-search-results-button,
  input[type="search"]::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  /* Optional: Add subtle animation for the tag */
  .rotate-2 {
    animation: gentleFloat 3s ease-in-out infinite;
  }

  @keyframes gentleFloat {
    0%, 100% { transform: rotate(2deg) translateY(0); }
    50% { transform: rotate(2deg) translateY(-2px); }
  }
</style>